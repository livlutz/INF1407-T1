<!--Pegando configuracoes basicas das paginas do site-->
{% extends 'site_receitas/base.html' %}
{% load static %}

{% block titulo %}{{ titulo_pagina }}{% endblock %}
{% block content %}
<div class="criar-receita-container">
    <div class="criar-receita-card">
        <!-- Header Section -->
        <div class="criar-receita-header">
            <h1 class="criar-receita-title">{{ titulo_janela }}</h1>
        </div>

        <!-- Formulario de Cria√ß√£o da Receita -->
        <form action="" method="POST" enctype="multipart/form-data" class="criar-receita-form">
            <fieldset>
                {% csrf_token %}

                <!-- T√≠tulo da Receita -->
                <div class="form-group">
                    {{ formulario.titulo.label_tag }}
                    {{ formulario.titulo }}
                    {% if formulario.titulo.help_text %}
                        <div class="help-text">{{ formulario.titulo.help_text }}</div>
                    {% endif %}
                    {% if formulario.titulo.errors %}
                        <div class="field-errors">{{ formulario.titulo.errors }}</div>
                    {% endif %}
                </div>

                <!-- Mostra a foto da receita -->
                <div class="form-group photo-upload">
                    {{ formulario.foto_da_receita.label_tag }}
                    <div class="file-upload-wrapper">
                        {{ formulario.foto_da_receita }}
                        <div class="file-upload-info">
                            <i class="upload-icon">üì∏</i>
                            <span class="upload-text">Clique para adicionar uma foto da receita</span>
                        </div>
                    </div>
                    {% if formulario.foto_da_receita.help_text %}
                        <div class="help-text">{{ formulario.foto_da_receita.help_text }}</div>
                    {% endif %}
                    {% if formulario.foto_da_receita.errors %}
                        <div class="field-errors">{{ formulario.foto_da_receita.errors }}</div>
                    {% endif %}
                </div>

                <!-- Detalhes da Receita -->
                <div class="recipe-details-grid">
                    <!-- Tempo de Preparo -->
                    <div class="form-group">
                        {{ formulario.tempo_de_preparo.label_tag }}
                        {{ formulario.tempo_de_preparo }}
                        {% if formulario.tempo_de_preparo.help_text %}
                            <div class="help-text">{{ formulario.tempo_de_preparo.help_text }}</div>
                        {% endif %}
                        {% if formulario.tempo_de_preparo.errors %}
                            <div class="field-errors">{{ formulario.tempo_de_preparo.errors }}</div>
                        {% endif %}
                    </div>

                    <!-- Por√ß√µes -->
                    <div class="form-group">
                        {{ formulario.porcoes.label_tag }}
                        {{ formulario.porcoes }}
                        {% if formulario.porcoes.help_text %}
                            <div class="help-text">{{ formulario.porcoes.help_text }}</div>
                        {% endif %}
                        {% if formulario.porcoes.errors %}
                            <div class="field-errors">{{ formulario.porcoes.errors }}</div>
                        {% endif %}
                    </div>

                    <!-- Categoria -->
                    <div class="form-group">
                        {{ formulario.categoria.label_tag }}
                        {{ formulario.categoria }}
                        {% if formulario.categoria.help_text %}
                            <div class="help-text">{{ formulario.categoria.help_text }}</div>
                        {% endif %}
                        {% if formulario.categoria.errors %}
                            <div class="field-errors">{{ formulario.categoria.errors }}</div>
                        {% endif %}
                    </div>

                    <!-- Visibilidade -->
                    <div class="form-group">
                        {{ formulario.visibilidade.label_tag }}
                        {{ formulario.visibilidade }}
                        {% if formulario.visibilidade.help_text %}
                            <div class="help-text">{{ formulario.visibilidade.help_text }}</div>
                        {% endif %}
                        {% if formulario.visibilidade.errors %}
                            <div class="field-errors">{{ formulario.visibilidade.errors }}</div>
                        {% endif %}
                    </div>
                </div>

                <!-- Ingredientes -->
                <div class="form-group textarea-group">
                    {{ formulario.ingredientes.label_tag }}
                    {{ formulario.ingredientes }}
                    {% if formulario.ingredientes.help_text %}
                        <div class="help-text">{{ formulario.ingredientes.help_text }}</div>
                    {% endif %}
                    {% if formulario.ingredientes.errors %}
                        <div class="field-errors">{{ formulario.ingredientes.errors }}</div>
                    {% endif %}
                </div>

                <!-- Modo de Preparo -->
                <div class="form-group textarea-group">
                    {{ formulario.modo_de_preparo.label_tag }}
                    {{ formulario.modo_de_preparo }}
                    {% if formulario.modo_de_preparo.help_text %}
                        <div class="help-text">{{ formulario.modo_de_preparo.help_text }}</div>
                    {% endif %}
                    {% if formulario.modo_de_preparo.errors %}
                        <div class="field-errors">{{ formulario.modo_de_preparo.errors }}</div>
                    {% endif %}
                </div>

                {% if mensagem %}
                    <div class="criar-receita-msg success">{{ mensagem }}</div>
                {% endif %}

                <!-- Acoes do formulario -->
                <div class="form-actions">
                    <button type="submit" class="modern-btn criar-receita-btn">
                        <span class="btn-icon">üçΩÔ∏è</span>
                        <span>Criar Receita</span>
                    </button>
                    <a href="{% url 'receitas:homepage' %}" class="modern-btn secondary-btn">
                        <span class="btn-icon">‚Ü©Ô∏è</span>
                        <span>Cancelar</span>
                    </a>
                </div>
            </fieldset>
        </form>
    </div>
</div>
{% endblock %}
